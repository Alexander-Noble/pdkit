
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Gait Processor &#8212; PDkit 0.2.8 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Utils" href="utils.html" />
    <link rel="prev" title="Tremor Processor" href="tremor.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-gait_processor">
<span id="gait-processor"></span><h1>Gait Processor<a class="headerlink" href="#module-gait_processor" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="gait_processor.GaitProcessor">
<em class="property">class </em><code class="descclassname">gait_processor.</code><code class="descname">GaitProcessor</code><span class="sig-paren">(</span><em>sampling_frequency=100.0, cutoff_frequency=2.0, filter_order=2, window=256, lower_frequency=2.0, upper_frequency=10.0, step_size=50.0, start_end_offset=[100, 100], delta=0.5, loco_band=[0.5, 3], freeze_band=[3, 8], stride_fraction=0.125, order=4, threshold=0.5, distance=90, step_period=2, stride_period=1</em><span class="sig-paren">)</span><a class="headerlink" href="#gait_processor.GaitProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the main Gait Processor class. Once the data is loaded it will be
accessible at data_frame, where it looks like:
data_frame.x, data_frame.y, data_frame.z: x, y, z components of the acceleration
data_frame.index is the datetime-like index</p>
<p>This values are recommended by the author of the pilot study [1] and [3]</p>
<p>step_size = 50.0
start_end_offset = [100, 100]
delta = 0.5
loco_band = [0.5, 3]
freeze_band = [3, 8]
sampling_frequency = 100.0Hz
cutoff_frequency = 2.0Hz
filter_order = 2
window = 256
lower_frequency = 2.0Hz
upper_frequency = 10.0Hz</p>
<dl class="docutils">
<dt>[1] Developing a tool for remote digital assessment of Parkinson s disease</dt>
<dd>Kassavetis  P,      Saifee  TA,     Roussos G,      Drougas L,      Kojovic M,      Rothwell        JC,     Edwards MJ,     Bhatia  KP</dd>
<dt>[2] The use of the fast Fourier transform for the estimation of power spectra: A method based </dt>
<dd>on time averaging over short, modified periodograms (IEEE Trans. Audio Electroacoust. 
vol. 15, pp. 70-73, 1967)
P. Welch</dd>
<dt>[3] M. Bachlin et al., “Wearable Assistant for Parkinson’s Disease Patients With the Freezing of Gait Symptom,”</dt>
<dd>in IEEE Transactions on Information Technology in Biomedicine, vol. 14, no. 2, pp. 436-446, March 2010.</dd>
</dl>
<dl class="method">
<dt id="gait_processor.GaitProcessor.freeze_of_gait">
<code class="descname">freeze_of_gait</code><span class="sig-paren">(</span><em>data_frame</em><span class="sig-paren">)</span><a class="headerlink" href="#gait_processor.GaitProcessor.freeze_of_gait" title="Permalink to this definition">¶</a></dt>
<dd><p>This method assess freeze of gait following [3].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_frame</strong> (<em>DataFrame</em>) – the data frame.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return list freeze_times:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">What times does freeze of gait occur.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return list freeze_indexes:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">What are the index in the dataframe when freeze of gait occurs.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return list locomotion_freezes:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">When does locomotion freeze happen,.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gait_processor.GaitProcessor.frequency_of_peaks">
<code class="descname">frequency_of_peaks</code><span class="sig-paren">(</span><em>data_frame</em><span class="sig-paren">)</span><a class="headerlink" href="#gait_processor.GaitProcessor.frequency_of_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>This method assess the frequency of the peaks on the x-axis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_frame</strong> (<em>DataFrame</em>) – the data frame.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return float frequency_of_peaks:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">The frequency of peaks on the x-axis.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gait_processor.GaitProcessor.gait">
<code class="descname">gait</code><span class="sig-paren">(</span><em>data_frame</em>, <em>axis='x'</em><span class="sig-paren">)</span><a class="headerlink" href="#gait_processor.GaitProcessor.gait" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract gait features from estimated heel strikes and accelerometer data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_frame</strong> (<em>DataFrame</em>) – The data frame.</li>
<li><strong>axis</strong> (<em>string</em>) – The axis (preferably forward direction) from which to extract all gait features.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return int number_of_steps:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Estimated number of steps based on heel strikes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return float velocity:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Velocity (if distance).</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return float avg_step_length:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Average step length (if distance).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return float avg_stride_length:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Average stride length (if distance).</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return float cadence:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Number of steps divided by duration.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return array step_durations:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Step duration.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return float avg_step_duration:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Average step duration.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return float sd_step_durations:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Standard deviation of step durations.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return list strides:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Stride timings for each side.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return float avg_number_of_strides:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Estimated number of strides based on alternating heel strikes.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return list stride_durations:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Estimated stride durations.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return float avg_stride_duration:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Average stride duration.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return float sd_step_durations:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Standard deviation of stride durations.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return float step_regularity:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Measure of step regularity along axis.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return float stride_regularity:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Measure of stride regularity along axis.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return float symmetry:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first last">Measure of gait symmetry along axis.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gait_processor.GaitProcessor.gait_regularity_symmetry">
<code class="descname">gait_regularity_symmetry</code><span class="sig-paren">(</span><em>data_frame_axis</em>, <em>unbias=1</em>, <em>normalize=2</em><span class="sig-paren">)</span><a class="headerlink" href="#gait_processor.GaitProcessor.gait_regularity_symmetry" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute step and stride regularity and symmetry from accelerometer data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_frame_axis</strong> (<em>array</em>) – Accelerometer data along one axis (preferably forward direction)</li>
<li><strong>unbias</strong> (<em>int</em>) – Unbiased autocorrelation: divide by range (1) or by weighted range (2).</li>
<li><strong>normalize</strong> (<em>int</em>) – Normalize: divide by 1st coefficient (1) or by maximum abs. value (2).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return float step_regularity:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Step regularity measure along axis.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return float stride_regularity:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Stride regularity measure along axis.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return symmetry:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">Symmetry measure along axis.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gait_processor.GaitProcessor.heel_strikes">
<code class="descname">heel_strikes</code><span class="sig-paren">(</span><em>data_frame_axis</em><span class="sig-paren">)</span><a class="headerlink" href="#gait_processor.GaitProcessor.heel_strikes" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate heel strike times between sign changes in accelerometer data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_frame_axis</strong> (<em>array</em>) – Accelerometer data along one axis (preferably forward direction)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return array strikes:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Heel strike timings</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return list strike_indices:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Heel strike timing indices.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gait_processor.GaitProcessor.speed_of_gait">
<code class="descname">speed_of_gait</code><span class="sig-paren">(</span><em>data_frame</em>, <em>wavelet_type='db3'</em>, <em>wavelet_level=6</em><span class="sig-paren">)</span><a class="headerlink" href="#gait_processor.GaitProcessor.speed_of_gait" title="Permalink to this definition">¶</a></dt>
<dd><p>This method assess the speed of gait following [2].
It extracts the gait speed from the energies of the approximation coefficients of wavelet functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_frame</strong> (<em>DataFrame</em>) – the data frame.</li>
<li><strong>wavelet_type</strong> (<em>str</em>) – the type of wavelet to use. See <a class="reference external" href="https://pywavelets.readthedocs.io/en/latest/ref/wavelets.html">https://pywavelets.readthedocs.io/en/latest/ref/wavelets.html</a> for a full list.</li>
<li><strong>wavelet_level</strong> (<em>int</em>) – the number of cycles the used wavelet should have. See <a class="reference external" href="https://pywavelets.readthedocs.io/en/latest/ref/wavelets.html">https://pywavelets.readthedocs.io/en/latest/ref/wavelets.html</a> for a fill list.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return float gait_speed:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">The speed of gait.</p>
</td>
</tr>
</tbody>
</table>
<div class="math notranslate" id="equation-some-label3">
<span class="eqno">(1)<a class="headerlink" href="#equation-some-label3" title="Permalink to this equation">¶</a></span>\[\begin{split}\begin{eqnarray}
    a^2+ b^2= c^2\\
    a^2+ b^2= c^2\\
    a^2+ b^2= c^2\\
\end{eqnarray}\end{split}\]</div>
</dd></dl>

<dl class="method">
<dt id="gait_processor.GaitProcessor.walk_direction_preheel">
<code class="descname">walk_direction_preheel</code><span class="sig-paren">(</span><em>data_frame</em><span class="sig-paren">)</span><a class="headerlink" href="#gait_processor.GaitProcessor.walk_direction_preheel" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate local walk (not cardinal) direction with pre-heel strike phase.</p>
<p>Inspired by Nirupam Roy’s B.E. thesis: “WalkCompass:
Finding Walking Direction Leveraging Smartphone’s Inertial Sensors,”.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_frame</strong> (<em>DataFrame</em>) – the data frame.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return array direction:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Unit vector of local walk (not cardinal) direction</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gait_processor.GaitProcessor.walk_regularity_symmetry">
<code class="descname">walk_regularity_symmetry</code><span class="sig-paren">(</span><em>data_frame</em><span class="sig-paren">)</span><a class="headerlink" href="#gait_processor.GaitProcessor.walk_regularity_symmetry" title="Permalink to this definition">¶</a></dt>
<dd><p>This method extracts the step and stride regularity and also walk symmetry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_frame</strong> (<em>DataFrame</em>) – the data frame.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return list step_regularity:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Regularity of steps on [x, y, z] coordinates.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return list stride_regularity:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Regularity of stride on [x, y, z] coordinates.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return list walk_symmetry:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Symmetry of walk on [x, y, z] coordinates.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gait_time_series">
<span id="gait-time-series"></span><h1>Gait Time Series<a class="headerlink" href="#module-gait_time_series" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="gait_time_series.GaitTimeSeries">
<em class="property">class </em><code class="descclassname">gait_time_series.</code><code class="descname">GaitTimeSeries</code><a class="headerlink" href="#gait_time_series.GaitTimeSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a wrapper class to load the Gait Time Series data.</p>
<dl class="staticmethod">
<dt id="gait_time_series.GaitTimeSeries.load_data">
<em class="property">static </em><code class="descname">load_data</code><span class="sig-paren">(</span><em>format_file='cloudupdrs'</em><span class="sig-paren">)</span><a class="headerlink" href="#gait_time_series.GaitTimeSeries.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a general load data method where the format of data to load can be passed as a parameter,</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<em>str</em>) – The path to load data from</li>
<li><strong>format_file</strong> (<em>str</em>) – format of the file. Default is CloudUPDRS (‘cloudupdrs’). Set to ‘mpower’ for mpower data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return DataFrame dataframe:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">data_frame.x, data_frame.y, data_frame.z: x, y, z components of the acceleration data_frame.index is the datetime-like index</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<hr class="docutils" />
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Gait Processor</a></li>
<li><a class="reference internal" href="#module-gait_time_series">Gait Time Series</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="tremor.html" title="previous chapter">Tremor Processor</a></li>
      <li>Next: <a href="utils.html" title="next chapter">Utils</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/gait.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Birkbeck College.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/gait.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>